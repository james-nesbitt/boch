#!/bin/sh
#
# Flow Library
#

# list all flows in the system
flows_getflows()
{
  local flow_path=""
  local flow=""
  local allpaths="`libraries_list_subpath \"hooks/flow\"`"
  echo "`for flow_path in ${allpaths}; do
    for flow in ${flow_path}/*; do
      echo "${flow##*/}"
    done
  done | sort -u`"
}

# determing if a flow exists
flow_exists()
{
  local flow="$1"

  local allpaths="`libraries_list_subpath \"hooks/flow\"`"
  for flow_path in ${allpaths}; do
   if [ -d "${flow_path}/$flow" ]; then
    return 0
   fi
  done

  return 1
}
