#!/bin/sh
#
# 060 Add any builds from the a builds folder in a library
#

hook_version=2
hook_root="hook_library_builds_library_060"

# description method
hook_library_builds_library_060_description()
{
  echo "Add any builds from the a builds folder in a library"
}

# help method
hook_library_builds_library_060_help()
{
  echo "
Add any builds from the a builds folder in a library

"
}

# execute method
hook_library_builds_library_060_execute()
{

  local library=""
  local path=""

  while [ $# -gt 0 ]
  do
    case "$1" in
      -l|--library)
    library=$2
    shift
    ;;
      -p|--path)
    path=$2
    shift
    ;;
      *)
      break;; # terminate while loop
    esac
    shift
  done

  path="${path}/builds"

  if [ -d ${path} ]; then
    builds_addpath "${path}"
    debug --level 6 --topic "HOOKS->COMMAND->BUILDS->LIBRARY->LOAD->PRE->060" "New library added has builds, adding those builds to the the biulds list [library:${library}][path:${path}]"
  fi

}
